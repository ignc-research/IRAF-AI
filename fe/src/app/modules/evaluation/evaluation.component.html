<div class="container">
  <div class="plots">
    <ng-container *ngIf="firstExperiment; else noExperiments">
      <ng-container *ngFor="let plot of addedPlots; let i = index">
        <div class="plot-wrapper">
          <app-trajectory-plot
            *ngIf="plot.type === 'trajectory'"
            [experimentName]="firstExperiment"
            [dataColumn]="plot.dataColumn">
          </app-trajectory-plot>
          <app-bar-plot
            *ngIf="plot.type === 'bar'"
            [experiments]="[firstExperiment]"
            [dataColumn]="plot.dataColumn"
          ></app-bar-plot>
          <app-line-plot
            *ngIf="plot.type === 'line'"
            [experimentName]="firstExperiment"
            [dataColumn]="plot.dataColumn"
          ></app-line-plot>
          <button class="close-btn" (click)="removePlot(i)">x</button>
        </div>
      </ng-container>
    </ng-container>
    <ng-template #noExperiments>
      <p>No experiments available.</p>
    </ng-template>
  </div>
  <div class="plot-controls">
    <select [(ngModel)]="selectedPlot">
      <option value="">-- Select a plot --</option>
      <option value="trajectory">Trajectory Plot</option>
      <option value="bar">Bar Plot</option>
      <option value="line">Line Plot</option>
    </select>
    <select [(ngModel)]="selectedDataColumn">
      <option value="">-- Select a data column --</option>
      <option *ngFor="let column of dataColumns" [value]="column">{{ column }}</option>
    </select>
    <button (click)="addPlot()">Add Plot</button>
  </div>
</div>
